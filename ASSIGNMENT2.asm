ORG 0H
MOV P3,#0FFH

START:  JB P3.5,L0
        JB P3.4,L5
		JB P3.3,L4
		JB P3.2,L3
		JB P3.1,L2
        JB P3.0,L1
        									  
L0:CLR P2.0	   ;CONTROL SWITCH
    SJMP START

L1:MOV R0,#51  ;MOTOR SPEED 1/5
    SJMP GEN

L2:MOV R0,#102 ;MOTOR SPEED 2/5
    SJMP GEN

L3:MOV R0,#153 ;MOTOR SPEED 3/5
    SJMP GEN

L4:MOV R0,#204 ;MOTOR SPEED 4/5
    SJMP GEN

L5:SETB P2.0   ;MOTOR SPEED 5/5
    SJMP START
 	      
GEN:MOV A,#0FFH
    SUBB A,R0	;255-R0 
	MOV R1,A
	SETB P2.0
LOOP:DJNZ R0,LOOP ;DELAY OF POSITIVE PART OF THE CYCLE
     CLR P2.0
LOOP1:DJNZ R1,LOOP1 ;DELAY OF NEGATIVE PART OF THE CYCLE
      SJMP START
END